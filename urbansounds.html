<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="robots" content="index, follow" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/style.css" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <script src="https://cdn.rawgit.com/download/polymer-cdn/1.5.0/lib/webcomponentsjs/webcomponents-lite.min.js"></script>
    <link rel="stylesheet" href="./css/trackswitch.css" />
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/trackswitch.js"></script>
    <script src="js/render.js"></script>
    <style media="screen">
        body {
            font-family: sans-serif;
        }
    </style>
</head>
<body>
    <section class="main-content">
        <h2>Randomly Generated Test Examples from UrbanSounds Dataset</h2>
        <!-- Refresh link -->
        <a href="#" onclick="location.reload();" style="display: inline-block; margin-bottom: 20px; font-size: 16px; text-decoration: none; background: #007BFF; color: white; padding: 10px 15px; border-radius: 5px;">
            ðŸ”„ Refresh Examples
        </a>

        <div id="output"></div> <!-- This is where the function will inject content -->
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                var dataset = "Urbansounds_good";
                var Num_max = 44;  // Total available examples
                var numExamples = 3; // Number of times you want to call the function

                function getRandomIndices(max, count) {
                    let indices = new Set();
                    while (indices.size < count) {
                        indices.add(Math.floor(Math.random() * max));
                    }
                    return Array.from(indices);
                }
    
                var randomIndices = getRandomIndices(Num_max, numExamples);
                var outputDiv = document.getElementById("output");
    
                randomIndices.forEach(idx => {
                    // Call the function and append to the output div
                    outputDiv.innerHTML += render_example(dataset, idx);
                    
                    // Append a div break after each function call
                    outputDiv.innerHTML += `<div style="margin: 20px 0; border-bottom: 2px solid #ccc;"></div>`;
                });
            });
        </script>

        <script type="text/javascript">
            var settings = {
                onlyradiosolo: true, 
                repeat: true,
            };
            jQuery(document).ready(function() {
            jQuery(".player").trackSwitch(settings);
        });
        </script>
    </section>
</body>
</html>